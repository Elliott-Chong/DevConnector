{"ast":null,"code":"export const initialState = {\n  alerts: [],\n  token: localStorage.getItem(\"token\"),\n  loading: true,\n  user: null,\n  isAuthenticated: null,\n  profile: null,\n  all_profiles: null,\n  posts: [],\n  error: {},\n  repos: []\n};\nexport const reducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case \"SET_REPOS\":\n      return { ...state,\n        loading: false,\n        repos: payload\n      };\n\n    case \"START_LOADING\":\n      return { ...state,\n        loading: true\n      };\n\n    case \"SET_ALERT\":\n      let newAlerts = state.alerts;\n      newAlerts.push({\n        id: payload.id,\n        type: payload.type,\n        msg: payload.msg\n      });\n      return { ...state,\n        alerts: newAlerts\n      };\n\n    case \"REMOVE_ALERT\":\n      let newAlertss = state.alerts.filter(alert => alert.id !== payload.id);\n      return { ...state,\n        alerts: newAlertss\n      };\n\n    case \"FILL_ALL_PROFILES\":\n      return { ...state,\n        all_profiles: payload,\n        loading: false\n      };\n\n    case \"CLEAR_PROFILE\":\n      return { ...state,\n        profile: null\n      };\n\n    case \"FILL_POSTS\":\n      return { ...state,\n        posts: payload,\n        loading: false\n      };\n\n    case \"DELETE_POST\":\n      return { ...state,\n        posts: state.posts.filter(post => post._id !== id)\n      };\n\n    case \"ADD_POST\":\n      return { ...state,\n        posts: [payload, ...state.posts]\n      };\n\n    case \"UPDATE_LIKES\":\n      // id and likes\n      const newPosts = state.posts.map(post => {\n        if (post._id === payload.id) {\n          return { ...post,\n            likes: payload.likes\n          };\n        }\n\n        return post;\n      });\n      return { ...state,\n        posts: newPosts\n      };\n\n    case \"REGISTER_SUCCESS\":\n    case \"LOGIN_SUCCESS\":\n      localStorage.setItem(\"token\", payload.token);\n      return { ...state,\n        token: payload.token,\n        loading: false,\n        isAuthenticated: true\n      };\n\n    case \"SET_PROFILE\":\n      return { ...state,\n        loading: false,\n        profile: payload.profile\n      };\n\n    case \"PROFILE_ERROR\":\n      return { ...state,\n        loading: false,\n        error: payload,\n        profile: null\n      };\n\n    case \"USER_LOADED\":\n      return { ...state,\n        isAuthenticated: true,\n        loading: false,\n        user: payload\n      };\n\n    case \"REGISTER_FAIL\":\n    case \"AUTH_ERROR\":\n    case \"LOGOUT\":\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        token: null,\n        loading: false,\n        isAuthenticated: false,\n        profile: null,\n        error: {},\n        repos: [],\n        user: null\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/home/elliott/Documents/Coding/DevConnector/client/src/context/reducer.js"],"names":["initialState","alerts","token","localStorage","getItem","loading","user","isAuthenticated","profile","all_profiles","posts","error","repos","reducer","state","action","type","payload","newAlerts","push","id","msg","newAlertss","filter","alert","post","_id","newPosts","map","likes","setItem","removeItem"],"mappings":"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","sourcesContent":["export const initialState = {\n  alerts: [],\n  token: localStorage.getItem(\"token\"),\n  loading: true,\n  user: null,\n  isAuthenticated: null,\n  profile: null,\n  all_profiles: null,\n  posts: [],\n  error: {},\n  repos: [],\n};\n\nexport const reducer = (state, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case \"SET_REPOS\":\n      return { ...state, loading: false, repos: payload };\n    case \"START_LOADING\":\n      return { ...state, loading: true };\n    case \"SET_ALERT\":\n      let newAlerts = state.alerts;\n      newAlerts.push({ id: payload.id, type: payload.type, msg: payload.msg });\n      return {\n        ...state,\n        alerts: newAlerts,\n      };\n    case \"REMOVE_ALERT\":\n      let newAlertss = state.alerts.filter((alert) => alert.id !== payload.id);\n      return { ...state, alerts: newAlertss };\n\n    case \"FILL_ALL_PROFILES\":\n      return { ...state, all_profiles: payload, loading: false };\n    case \"CLEAR_PROFILE\":\n      return { ...state, profile: null };\n\n    case \"FILL_POSTS\":\n      return { ...state, posts: payload, loading: false };\n\n    case \"DELETE_POST\":\n      return {\n        ...state,\n        posts: state.posts.filter((post) => post._id !== id),\n      };\n\n    case \"ADD_POST\":\n      return { ...state, posts: [payload, ...state.posts] };\n\n    case \"UPDATE_LIKES\":\n      // id and likes\n      const newPosts = state.posts.map((post) => {\n        if (post._id === payload.id) {\n          return { ...post, likes: payload.likes };\n        }\n        return post;\n      });\n      return { ...state, posts: newPosts };\n\n    case \"REGISTER_SUCCESS\":\n    case \"LOGIN_SUCCESS\":\n      localStorage.setItem(\"token\", payload.token);\n      return {\n        ...state,\n        token: payload.token,\n        loading: false,\n        isAuthenticated: true,\n      };\n\n    case \"SET_PROFILE\":\n      return { ...state, loading: false, profile: payload.profile };\n\n    case \"PROFILE_ERROR\":\n      return { ...state, loading: false, error: payload, profile: null };\n\n    case \"USER_LOADED\":\n      return { ...state, isAuthenticated: true, loading: false, user: payload };\n\n    case \"REGISTER_FAIL\":\n    case \"AUTH_ERROR\":\n    case \"LOGOUT\":\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        token: null,\n        loading: false,\n        isAuthenticated: false,\n        profile: null,\n        error: {},\n        repos: [],\n        user: null,\n      };\n\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}