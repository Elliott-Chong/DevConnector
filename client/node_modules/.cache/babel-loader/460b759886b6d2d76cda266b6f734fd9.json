{"ast":null,"code":"export const initialState = {\n  alerts: [],\n  token: localStorage.getItem(\"token\"),\n  loading: true,\n  user: null,\n  isAuthenticated: null,\n  profile: null,\n  post: null,\n  all_profiles: null,\n  posts: [],\n  error: {},\n  repos: []\n};\nexport const reducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case \"SET_REPOS\":\n      return { ...state,\n        loading: false,\n        repos: payload\n      };\n\n    case \"START_LOADING\":\n      return { ...state,\n        loading: true\n      };\n\n    case \"SET_ALERT\":\n      let newAlerts = state.alerts;\n      newAlerts.push({\n        id: payload.id,\n        type: payload.type,\n        msg: payload.msg\n      });\n      return { ...state,\n        alerts: newAlerts\n      };\n\n    case \"ADD_COMMENT\":\n      console.log(payload);\n      return { ...state,\n        post: { ...state.post,\n          comments: payload\n        }\n      };\n\n    case \"REMOVE_ALERT\":\n      let newAlertss = state.alerts.filter(alert => alert.id !== payload.id);\n      return { ...state,\n        alerts: newAlertss\n      };\n\n    case \"FILL_ALL_PROFILES\":\n      return { ...state,\n        all_profiles: payload,\n        loading: false\n      };\n\n    case \"CLEAR_PROFILE\":\n      return { ...state,\n        profile: null\n      };\n\n    case \"FILL_POSTS\":\n      return { ...state,\n        posts: payload,\n        loading: false\n      };\n\n    case \"FILL_POST\":\n      return { ...state,\n        loading: false,\n        post: payload\n      };\n\n    case \"DELETE_COMMENT\":\n      return { ...state,\n        post: { ...state.post,\n          comments: payload\n        }\n      };\n\n    case \"DELETE_POST\":\n      return { ...state,\n        posts: state.posts.filter(post => post._id !== payload)\n      };\n\n    case \"ADD_POST\":\n      return { ...state,\n        posts: [payload, ...state.posts]\n      };\n\n    case \"UPDATE_LIKES\":\n      // id and likes\n      const newPosts = state.posts.map(post => {\n        if (post._id === payload.id) {\n          return { ...post,\n            likes: payload.likes\n          };\n        }\n\n        return post;\n      });\n      return { ...state,\n        posts: newPosts\n      };\n\n    case \"REGISTER_SUCCESS\":\n    case \"LOGIN_SUCCESS\":\n      localStorage.setItem(\"token\", payload.token);\n      return { ...state,\n        token: payload.token,\n        loading: false,\n        isAuthenticated: true\n      };\n\n    case \"SET_PROFILE\":\n      return { ...state,\n        loading: false,\n        profile: payload.profile\n      };\n\n    case \"PROFILE_ERROR\":\n      return { ...state,\n        loading: false,\n        error: payload,\n        profile: null\n      };\n\n    case \"USER_LOADED\":\n      return { ...state,\n        isAuthenticated: true,\n        loading: false,\n        user: payload\n      };\n\n    case \"REGISTER_FAIL\":\n    case \"AUTH_ERROR\":\n    case \"LOGOUT\":\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        token: null,\n        loading: false,\n        isAuthenticated: false,\n        profile: null,\n        error: {},\n        repos: [],\n        user: null\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/home/elliott/Documents/Coding/DevConnector/client/src/context/reducer.js"],"names":["initialState","alerts","token","localStorage","getItem","loading","user","isAuthenticated","profile","post","all_profiles","posts","error","repos","reducer","state","action","type","payload","newAlerts","push","id","msg","console","log","comments","newAlertss","filter","alert","_id","newPosts","map","likes","setItem","removeItem"],"mappings":"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","sourcesContent":["export const initialState = {\n  alerts: [],\n  token: localStorage.getItem(\"token\"),\n  loading: true,\n  user: null,\n  isAuthenticated: null,\n  profile: null,\n  post: null,\n  all_profiles: null,\n  posts: [],\n  error: {},\n  repos: [],\n};\n\nexport const reducer = (state, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case \"SET_REPOS\":\n      return { ...state, loading: false, repos: payload };\n    case \"START_LOADING\":\n      return { ...state, loading: true };\n    case \"SET_ALERT\":\n      let newAlerts = state.alerts;\n      newAlerts.push({ id: payload.id, type: payload.type, msg: payload.msg });\n      return {\n        ...state,\n        alerts: newAlerts,\n      };\n    case \"ADD_COMMENT\":\n      console.log(payload);\n      return {\n        ...state,\n        post: { ...state.post, comments: payload },\n      };\n    case \"REMOVE_ALERT\":\n      let newAlertss = state.alerts.filter((alert) => alert.id !== payload.id);\n      return { ...state, alerts: newAlertss };\n\n    case \"FILL_ALL_PROFILES\":\n      return { ...state, all_profiles: payload, loading: false };\n    case \"CLEAR_PROFILE\":\n      return { ...state, profile: null };\n\n    case \"FILL_POSTS\":\n      return { ...state, posts: payload, loading: false };\n\n    case \"FILL_POST\":\n      return { ...state, loading: false, post: payload };\n\n    case \"DELETE_COMMENT\":\n      return { ...state, post: { ...state.post, comments: payload } };\n\n    case \"DELETE_POST\":\n      return {\n        ...state,\n        posts: state.posts.filter((post) => post._id !== payload),\n      };\n\n    case \"ADD_POST\":\n      return { ...state, posts: [payload, ...state.posts] };\n\n    case \"UPDATE_LIKES\":\n      // id and likes\n      const newPosts = state.posts.map((post) => {\n        if (post._id === payload.id) {\n          return { ...post, likes: payload.likes };\n        }\n        return post;\n      });\n      return { ...state, posts: newPosts };\n\n    case \"REGISTER_SUCCESS\":\n    case \"LOGIN_SUCCESS\":\n      localStorage.setItem(\"token\", payload.token);\n      return {\n        ...state,\n        token: payload.token,\n        loading: false,\n        isAuthenticated: true,\n      };\n\n    case \"SET_PROFILE\":\n      return { ...state, loading: false, profile: payload.profile };\n\n    case \"PROFILE_ERROR\":\n      return { ...state, loading: false, error: payload, profile: null };\n\n    case \"USER_LOADED\":\n      return { ...state, isAuthenticated: true, loading: false, user: payload };\n\n    case \"REGISTER_FAIL\":\n    case \"AUTH_ERROR\":\n    case \"LOGOUT\":\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        token: null,\n        loading: false,\n        isAuthenticated: false,\n        profile: null,\n        error: {},\n        repos: [],\n        user: null,\n      };\n\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}